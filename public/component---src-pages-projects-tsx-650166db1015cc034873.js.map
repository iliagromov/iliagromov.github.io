{"version":3,"file":"component---src-pages-projects-tsx-650166db1015cc034873.js","mappings":"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","sources":["webpack://frontend/./src/components/common/Projects/Card.tsx","webpack://frontend/./src/components/common/Projects/Projects.tsx","webpack://frontend/./src/components/containers/PageProjects/PageProjects.tsx","webpack://frontend/./src/pages/projects.tsx"],"sourcesContent":["import { Link } from 'gatsby';\nimport React, { FC } from 'react';\n\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { EffectCards } from \"swiper\";\nimport { GatsbyImage, getImage, StaticImage, } from \"gatsby-plugin-image\";\n\nimport { blockProject, projectPage } from '../../../shared/types';\n\nimport \"swiper/css\";\nimport \"swiper/css/effect-cards\";\nimport './Card.sass';\n\ntype CardProps = {\n    blockProject: blockProject,\n    projectLink: string,\n}\n\nconst Card: FC<CardProps> = (props) => {\n    const {\n        blockProject: {\n            title,\n            days,\n            technology,\n            pages\n        },\n        projectLink,\n    } = props;\n\n    const link = projectLink ? projectLink : '/projects';\n\n    const renderPages = pages && pages.map((page: projectPage, idx: number) => {\n        const selfLayout = page.pageLayouts ? page.pageLayouts : null;\n\t\t\n\t\tconst image = selfLayout ? selfLayout[0].layout?.sourceUrl : '';\n\n\t\tconst imageAlt = selfLayout ? selfLayout[0].layout?.altText : '';\n\n        // console.log(img);\n        return (\n            <SwiperSlide className=\"swiperCardPage\" key={`page${idx+1}`}> {page.pagetitle} {idx+1}\n             \n                <img src={image} alt={imageAlt}  />\n            </SwiperSlide>\n        );\n    });\n\n\n    const renderTechnology = technology && technology.map((item, i) => {\n        return (<span key={`technology${i}`} >{item.name}</span>)\n    });\n\n    return (\n        <article className=\"card\">\n            <Link className=\"card-link\" to={link}>\n                <div className=\"card-header\">\n                    <p>Sep 11th 2020</p>\n                    <h2>\n                        {title}\n                    </h2>\n                </div>\n\n                <div className=\"card-days\">\n                    <div className=\"card-days__count\">\n                      <span className=\"card-days__count-number\"> {pages.length} </span> \n                        <span className=\"card-days__count-text\">\n                        Страниц разработано\n                        </span>\n                        \n                    </div>\n                    <div className=\"card-days__svg\">\n                        <svg className=\"half-circle\" viewBox=\"0 0 106 57\">\n                            <path d=\"M102 4c0 27.1-21.9 49-49 49S4 31.1 4 4\"></path>\n                        </svg>\n                    </div>\n                </div>\n                <div className=\"card-pages\">\n                    <Swiper\n                        effect={\"cards\"}\n                        grabCursor={true}\n                        modules={[EffectCards]}\n                        className=\"swiperCardPages\"\n                    >\n                        {renderPages}\n                    </Swiper>\n                </div>\n\n                <div className=\"tags\">\n                    {renderTechnology}\n                </div>\n            </Link>\n        </article>\n    );\n}\n\n\nexport default Card;\n\n\n","import React, { Children, FC } from 'react';\nimport { StaticImage } from \"gatsby-plugin-image\";\nimport { Link } from 'gatsby-link';\n\nimport './Projects.sass';\nimport './Card.sass';\nimport Card from './Card';\nimport { blockProject, WpProjectPage } from '../../../shared/types';\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport './SwiperCard.sass'\n// Import Swiper styles\nimport \"swiper/css\";\nimport \"swiper/css/pagination\";\n\n// import required modules\nimport { Navigation } from \"swiper\";\n\nimport { Scrollbar } from \"swiper\";\nimport { graphql, useStaticQuery } from 'gatsby';\n\n\ntype ProjectProps = {\n    projectsArray: WpProjectPage[],\n\n}\n\nconst Projects: FC<ProjectProps> = (props) => {\n   \n   \n    function sliceIntoChunks(arr: Object[], chunkSize: number) {\n        const res = [];\n        for (let i = 0; i < arr.length; i += chunkSize) {\n            const chunk = arr.slice(i, i + chunkSize);\n            res.push(chunk);\n        }\n        return res;\n    }\n\n    const projectsGroupedMobile = sliceIntoChunks(props.projectsArray, 100);\n    const projectsGroupedDesktop = sliceIntoChunks(props.projectsArray, 5);\n\n\n    const hasWindow = typeof window !== 'undefined';\n    // let pagesArr; \n\n    const width = hasWindow ? window.innerWidth : 0;\n    const locationPath = hasWindow ? window.location.pathname : '/';\n    const isProjectPage = locationPath=== '/projects/';\n    const isMainPage = locationPath === '/';\n    const isDesktop = width >= 768;\n    const slideItemsMainPageMobile = !isDesktop ? 1 : 5;\n    const spaceMobile = !isDesktop ? -70 : -100;\n\n    const projectsGrouped = ( isDesktop &&  !isMainPage) ? projectsGroupedDesktop : projectsGroupedMobile;\n\n\n    const projectRenderDesktop = props.projectsArray && projectsGrouped.map((group: any, idx) => {\n        const keyGroup = `groupDesktop${idx}`;\n\n        const projectRowRender = group.map((project: WpProjectPage, idx: number) => {\n            const projectLink = project.uri;\n            // console.log(project);\n            const keyProject = `${keyGroup}__project${idx}`;\n            return (\n                <Card\n                    projectLink={projectLink}\n                    blockProject={project.blockProject}\n                    key={keyProject} />\n            )\n        });\n\n        return (\n            <div className='projects-content row' key={keyGroup} >\n                {projectRowRender}\n            </div>\n        )\n\n    });\n\n    const projectRenderMobileSlider = props.projectsArray && projectsGrouped.map((group: any, idx) => {\n        const keyGroup = `groupMobile${idx}`;\n        const spaceBetweenGutter = props.projectsArray.length >= 5 ? spaceMobile : 0 ; \n        const projectRowRender = group.map((project: WpProjectPage, idx: number) => {\n            const projectLink = project.uri;\n            // console.log(project);\n            const keyProject = `${keyGroup}__project${idx}`;\n            return (\n                <SwiperSlide key={keyProject} >\n                    <Card\n                        projectLink={projectLink}\n                        blockProject={project.blockProject}\n                    />\n                </SwiperSlide>\n            )\n        });\n\n        return (\n            <div className='projects-content row' key={keyGroup} >\n                <Swiper\n                   scrollbar={{\n                    hide: true,\n                  }}\n                  modules={[Scrollbar]}\n                    spaceBetween={spaceBetweenGutter}\n                    slidesPerView={slideItemsMainPageMobile}\n                    className=\"projectsSwiper\"\n                >\n\n                    {projectRowRender}\n                </Swiper>\n\n            </div>\n        )\n\n    });\n\n    const projectsRender = (isDesktop && !isMainPage) ? projectRenderDesktop : projectRenderMobileSlider;\n\n\n    return (\n        <section className=\"projects isAnimate animated\">\n            <div className=\"page__title page_transform-uppercase page_text-center\">\n                <h2 className=\"page__subtitle_big\">Проекты</h2>\n                <h2 className=\"page__title_main page__title-h2 page_bold\">Проекты {50}+</h2>\n            </div>\n            <div className=\"wrapper\">\n                <div className=\"inner\">\n                    {projectsRender}\n                </div>\n            </div>\n            { !isProjectPage && (\n                <Link className=\"page__btn \" to={'/projects'}> \n                Смотреть проекты\n                </Link>)\n            }\n            \n        </section>\n    );\n}\n\n\nexport default Projects;\n\n\n","import * as React from \"react\";\nimport { PageProps, useStaticQuery } from \"gatsby\";\nimport { graphql } from \"gatsby\";\n\nimport Projects from \"../../common/Projects/Projects\";\nimport { wpPage } from \"../../../shared/types\";\n\ntype PageProjectsProps = {\n  wpPage: wpPage\n}\n\n\nconst PageProjects: React.FC<PageProjectsProps> = (props) => {\n\n  // console.log(props);\n  // const projects = props.wpQueryData.allWpProject.nodes;\n  // const projects = [];\n  const {projects} = props.wpPage.blockProjects;\n  // console.log(projects);\n  return (\n    <>\n      <Projects projectsArray={projects}/>\n     \n\n    </>\n  )\n}\nexport default PageProjects;\n","import * as React from \"react\";\nimport type { HeadFC, PageProps } from \"gatsby\";\nimport { Link, graphql } from \"gatsby\";\nimport Layout from \"../layouts/Default\"\nimport SEO from \"../components/seo\"\n// import { StaticImage, GatsbyImage, getImage, withArtDirection  } from \"gatsby-plugin-image\";\nimport PageProjects from \"../components/containers/PageProjects/PageProjects\";\nimport { wpPage } from \"../shared/types\";\n\n\nexport const query = graphql`\n  query {\n      wpPage(uri: {eq: \"/projects-page/\"}) {\n        id\n        title\n        content\n        blockProjects {\n          projects {\n            ... on WpProject {\n              id\n              uri\n              title\n              slug\n              link\n              blockProject {\n                title\n                task\n                sitelink\n                shortdescription\n                days\n                description\n                format\n                pages {\n                  pagetitle\n                  image {\n                    altText\n                    title\n                    sourceUrl\n                  }\n                  pageLayouts {\n                    layout {\n                      altText\n                      title\n                      sourceUrl\n                    }\n                  }\n                }\n                \n              }\n            }\n          }\n        }\n      }\n    }\n`;\n\nconst ProjectsPage: React.FC<PageProps> = (props) => {\n  // console.log(data);\n  const data: wpPage = props.data?.wpPage;\n\n  return (\n    <Layout>\n      <SEO title=\"Projects\" />\n      <PageProjects\n        wpPage={data}\n      />\n     \n    </Layout>\n  )\n}\n\nexport default ProjectsPage;\n\n"],"names":["props","blockProject","title","days","technology","pages","projectLink","link","renderPages","map","page","idx","_selfLayout$0$layout","_selfLayout$0$layout2","selfLayout","pageLayouts","image","layout","sourceUrl","imageAlt","altText","React","SwiperSlide","className","key","pagetitle","src","alt","renderTechnology","item","i","name","Link","to","length","viewBox","d","Swiper","effect","grabCursor","modules","EffectCards","sliceIntoChunks","arr","chunkSize","res","chunk","slice","push","projectsGroupedMobile","projectsArray","projectsGroupedDesktop","hasWindow","window","width","innerWidth","locationPath","location","pathname","isProjectPage","isMainPage","isDesktop","slideItemsMainPageMobile","spaceMobile","projectsGrouped","projectRenderDesktop","group","keyGroup","projectRowRender","project","uri","keyProject","Card","projectRenderMobileSlider","spaceBetweenGutter","scrollbar","hide","Scrollbar","spaceBetween","slidesPerView","projectsRender","projects","wpPage","blockProjects","Projects","_props$data","data","Layout","SEO","PageProjects"],"sourceRoot":""}