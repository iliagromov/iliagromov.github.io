{"version":3,"file":"component---src-templates-project-tsx-01d4541c139c590cb5a0.js","mappings":"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","sources":["webpack://frontend/./src/components/containers/PageProject/PageProject.tsx","webpack://frontend/./src/templates/project.tsx"],"sourcesContent":["import React, { FC, useEffect, useRef, useState } from \"react\";\nimport { PageProps, useStaticQuery } from \"gatsby\";\nimport { Link, navigate } from \"gatsby\";\nimport './PageProject.sass';\nimport { projectPage, WpProjectPage } from \"../../../shared/types\";\n\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport { EffectCards } from \"swiper\";\nimport \"swiper/css\";\nimport \"swiper/css/effect-cards\";\n\n//FIXME: описать тип проекта\ntype PageProjectProps = {\n\twpQueryData: {\n\t\tallWpProject: {\n\t\t\tnodes: WpProjectPage[]\n\t\t}\n\t}\n}\n\n\nconst PageProject: React.FC<PageProjectProps> = (props) => {\n\n\tconst wpFields = props.wpQueryData.allWpProject.nodes[0];\n\t//FIXME: поправить доступ к объекту\n\n\t// let directionMedia = window.innerWidth >=768 ? 'vertical' : 'horizontal';\n\n\t// useEffect(() => {\n\t// \twindow.addEventListener('resize', function(){\n\t// \t\tdirectionMedia = window.innerWidth >=768 ? 'vertical' : 'horizontal';\n\t// \t});\n\t// });\n\n\tconst {\n\t\ttitle,\n\t\tformat,\n\t\tdescription,\n\t\tshortdescription,\n\t\tdays,\n\t\tpages\n\t} = wpFields.blockProject;\n\n\tconst pageInit = pages.length;\n\tconst pagesArr = pages.reverse();\n\tconst renderPagesLink = pages.map((page: projectPage, idx: number) => {\n\t\treturn (\n\t\t\t<div className=\"tab-link\" key={`pagetitle${idx}`}>{page.pagetitle}</div>\n\t\t)\n\t});\n\n\tconst renderPagesImage = pagesArr.map((page: projectPage, idx: number) => {\n\t\tconst selfLayout = page.pageLayouts ? page.pageLayouts : null;\n\t\t\n\t\tconst image = selfLayout ? selfLayout[0].layout?.sourceUrl : '';\n\n\t\tconst imageAlt = selfLayout ? selfLayout[0].layout?.altText : '';\n\n\t\treturn (\n\t\t\t<SwiperSlide key={`page${idx+1}`}>\n                <li className=\"SwiperSlideProjectCardPage\" key={`page${idx}`}>\n\t\t\t\t\t<h1>{page.pagetitle} </h1>\n\t\t\t\t\t<img src={image} alt={imageAlt} />\n\t\t\t\t</li>\n            </SwiperSlide>\n\t\t\t\n\t\t)\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<button className=\"btn-scrollTop page__btn\">\n\t\t\t\t<div className=\"page__btn_icon_arrow-top\">\n\t\t\t\t</div>\n\t\t\t\t<span>наверх</span>\n\t\t\t</button>\n\t\t\t<Link to={'/projects'} className=\"btn-back page__btn\">\n\t\t\t\t<div className=\"page__btn_icon_arrow-left\"></div><span>назад</span>\n\t\t\t</Link>\n\t\t\t<section className=\"project-page\">\n\t\t\t\t<div className=\"wrapper\">\n\t\t\t\t\t<div className=\"project-page-content tab-contents\" id=\"tabs\">\n\t\t\t\t\t\t<div className=\"page__title page_transform-uppercase\">\n\t\t\t\t\t\t\t<h2 className=\"page__subtitle_big\">{format}</h2>\n\t\t\t\t\t\t\t<h2 className=\"page__title_main page__title-h2 page_bold\">{title}</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"project-page-content__description\">\n\t\t\t\t\t\t\t<Swiper\n\t\t\t\t\t\t\t\tinitialSlide={pageInit}\n\t\t\t\t\t\t\t\teffect={\"cards\"}\n\t\t\t\t\t\t\t\tgrabCursor={true}\n\t\t\t\t\t\t\t\tmodules={[EffectCards]}\n\t\t\t\t\t\t\t\tclassName=\"swiperProjectCardPages\"\n\t\t\t\t\t\t\t\tdirection={'vertical'}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{renderPagesImage}\n\t\t\t\t\t\t\t</Swiper>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"project-page-content__info\">\n\t\t\t\t\t\t\t<aside className=\"project-info\">\n\t\t\t\t\t\t\t\t<div className=\"project-info__element\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"page__title-h3\">Ссылка:</h3>\n\t\t\t\t\t\t\t\t\t<a className=\"page__link page__link_site\" href=\"#\" target=\"_blank\">site.com</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"project-info__element project-info__element_list\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"page__title-h3\">Список страниц:</h3>\n\t\t\t\t\t\t\t\t\t<nav className=\"tab-nav\">\n\t\t\t\t\t\t\t\t\t\t{renderPagesLink}\n\t\t\t\t\t\t\t\t\t</nav>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"project-info__element project-info__task\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"page__title-h3\">Задача:</h3>\n\t\t\t\t\t\t\t\t\t<p className=\"page__text\">Разработка сайта для компании site.</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"project-info__element project-info__technology\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"page__title-h3\">Используемые технологии:</h3>\n\t\t\t\t\t\t\t\t\t<ul className=\"page__list\"></ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"project-info__element project-info__days\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"page__title-h3\">Сроки:</h3>\n\t\t\t\t\t\t\t\t\t<p className=\"page__text\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"page__number_days\">{days} </span>\n\t\t\t\t\t\t\t\t\t\t&nbsp;<span className=\"page__number_days_text\">дней.</span></p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"project-info__element project-info__date\">\n\t\t\t\t\t\t\t\t\t<h3 className=\"page__title-h3\">Дата создания:</h3>\n\t\t\t\t\t\t\t\t\t<p className=\"page__text\">9 февраля 2019</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</aside>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</>\n\t)\n}\nexport default PageProject;\n","import React from \"react\";\nimport Layout from \"../layouts/Default\";\nimport SEO from \"../components/seo\";\nimport { graphql } from \"gatsby\";\nimport PageProject from \"../components/containers/PageProject/PageProject\";\n\nexport const query = graphql`\n  query($slug: String!) {\n    allWpProject(filter: { slug: { eq: $slug } }) {\n      nodes {\n        title\n        content\n        blockProject {\n          days\n          description\n          format\n          pages {\n            pagetitle\n            image {\n              altText\n              title\n              sourceUrl\n            }\n            pageLayouts {\n              layout {\n                altText\n                title\n                sourceUrl\n              }\n            }\n          }\n          shortdescription\n          sitelink\n          task\n          title\n        }\n      }\n    }\n  }\n`;\n\nexport default function BlogPost({data}) {\n  const post = data.allWpProject.nodes[0];\n  const title = `${post.title} | Project `;\n  return (\n    <Layout>\n      <SEO title={title}  />\n      <PageProject wpQueryData={data}/>\n\n    </Layout>\n  )\n}\n"],"names":["props","wpFields","wpQueryData","allWpProject","nodes","title","format","description","shortdescription","days","pages","blockProject","pageInit","length","pagesArr","reverse","renderPagesLink","map","page","idx","React","className","key","pagetitle","renderPagesImage","selfLayout","pageLayouts","image","layout","_selfLayout$0$layout","sourceUrl","imageAlt","_selfLayout$0$layout2","altText","SwiperSlide","src","alt","Link","to","id","Swiper","initialSlide","effect","grabCursor","modules","EffectCards","direction","href","target","BlogPost","data","Layout","SEO","PageProject"],"sourceRoot":""}